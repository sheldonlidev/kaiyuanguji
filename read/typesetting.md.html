<!DOCTYPE html><!--H8WyH_QcGFTO4351QBFDv--><html lang="zh-CN"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/kaiyuanguji-web/_next/static/media/f112ed7f0b91582f-s.p.12569d31.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/kaiyuanguji-web/_next/static/chunks/955cd867b74488f8.css" data-precedence="next"/><link rel="stylesheet" href="/kaiyuanguji-web/_next/static/chunks/b81c04d1b2284b49.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/kaiyuanguji-web/_next/static/chunks/0727170f7973a63b.js"/><script src="/kaiyuanguji-web/_next/static/chunks/e51847de5330bab1.js" async=""></script><script src="/kaiyuanguji-web/_next/static/chunks/3b359392f8bd4771.js" async=""></script><script src="/kaiyuanguji-web/_next/static/chunks/turbopack-b2cc808f341a6412.js" async=""></script><script src="/kaiyuanguji-web/_next/static/chunks/f25bdf687f780092.js" async=""></script><script src="/kaiyuanguji-web/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/kaiyuanguji-web/_next/static/chunks/0bd6498bda341889.js" async=""></script><script src="/kaiyuanguji-web/_next/static/chunks/4dea10ac296774a9.js" async=""></script><script src="/kaiyuanguji-web/_next/static/chunks/74bbbc2694a3d6aa.js" async=""></script><script src="/kaiyuanguji-web/_next/static/chunks/de9445e964507214.js" async=""></script><meta name="next-size-adjust" content=""/><title>古籍排版 - 开源古籍</title><meta name="description" content="阅读《typesetting》"/><meta name="author" content="开源古籍"/><meta name="keywords" content="古籍,数字化,开源,传统文化,古籍数字化"/><link rel="canonical" href="https://www.kaiyuanguji.com/read/typesetting.md"/><meta property="og:title" content="古籍排版"/><meta property="og:description" content="阅读《typesetting》"/><meta property="og:url" content="https://www.kaiyuanguji.com/read/typesetting.md"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="开源古籍"/><meta name="twitter:description" content="开源古籍项目通过技术手段推动古籍的数字化、校对及开源存储，致力于让传统文化触手可及。"/><meta name="twitter:image" content="https://www.kaiyuanguji.com/images/og-image.png"/><script src="/kaiyuanguji-web/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="antialiased noto_serif_sc_fe1bfa19-module__4wAqNq__variable"><div hidden=""><!--$--><!--/$--></div><header class="sticky top-0 z-50 bg-paper border-b border-border"><nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"><div class="flex h-16 items-center justify-between"><a class="flex items-center gap-3 hover:opacity-80 transition-opacity" href="/kaiyuanguji-web"><img alt="开源古籍 Logo" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" class="h-8 w-8" style="color:transparent" src="/images/open-guji-logo.png"/><span class="text-lg font-semibold text-ink tracking-wide">开源古籍</span></a><div class="hidden md:flex items-center gap-4"><div class="flex items-center gap-2"><a class="
                    px-4 py-2 text-sm tracking-wide transition-colors rounded-md
                    text-ink hover:text-vermilion
                  " href="/kaiyuanguji-web">首页</a><a class="
                    px-4 py-2 text-sm tracking-wide transition-colors rounded-md
                    text-ink hover:text-vermilion
                  " href="/kaiyuanguji-web/roadmap">路线图</a><a class="
                    px-4 py-2 text-sm tracking-wide transition-colors rounded-md
                    text-ink hover:text-vermilion
                  " href="/kaiyuanguji-web/assistant">古籍助手</a><a class="
                    px-4 py-2 text-sm tracking-wide transition-colors rounded-md
                    text-ink hover:text-vermilion
                  " href="/kaiyuanguji-web/book-index">古籍索引</a></div><div class="h-4 w-[1px] bg-border mx-2"></div><div class="flex items-center gap-2"><div class="flex bg-paper/80 border border-border/60 rounded-full p-1 shadow-sm"><button class="
            px-3 py-1 text-xs rounded-full transition-all duration-300
            bg-ink text-white shadow-inner
          ">海外</button><button class="
            px-3 py-1 text-xs rounded-full transition-all duration-300
            text-secondary hover:text-ink
          ">国内</button></div></div></div><div class="flex items-center gap-2 md:hidden"><div class="flex items-center gap-2"><div class="flex bg-paper/80 border border-border/60 rounded-full p-1 shadow-sm"><button class="
            px-3 py-1 text-xs rounded-full transition-all duration-300
            bg-ink text-white shadow-inner
          ">海外</button><button class="
            px-3 py-1 text-xs rounded-full transition-all duration-300
            text-secondary hover:text-ink
          ">国内</button></div></div><button class="p-2 text-ink hover:text-vermilion transition-colors" aria-label="打开菜单"><svg class="h-6 w-6" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div></div></nav></header><main class="min-h-[calc(100vh-theme(spacing.16))] bg-paper"><div class="max-w-7xl mx-auto px-6 py-8"><div class="flex gap-8"><article class="flex-1 min-w-0 max-w-3xl mx-auto lg:mx-0"><h1 class="text-4xl font-bold text-ink mb-8 tracking-wide">古籍排版</h1><div class="markdown-content "><h1 class="text-3xl font-bold text-ink mt-8 mb-4 tracking-wide" node="[object Object]">古籍排版</h1>
<p class="text-base text-ink leading-loose my-4" node="[object Object]">流传至今的古籍，往往是手写本或刻本。古籍的数字化除了简单的扫描影印之外，往往通过提取其中的文本信息，再重新进行排版。这个过程中存在大量的<strong class="font-bold text-vermilion" node="[object Object]">1）信息损失</strong>，包括版式结构、批注、图像、位置、繁简转化信息等，<strong class="font-bold text-vermilion" node="[object Object]">2）人为错误</strong>，包括错误的异体字的处理、增删、句读等。</p>
<p class="text-base text-ink leading-loose my-4" node="[object Object]">少数专业的出版机构和专家学者会通过大量的人工校对，来保证数字化的准确性，但这个过程耗时耗力，且难以保证100%的准确性。我们希望找到（或开发）一套开源、现代化的工具，使所有爱好者能够参与古籍的数字化，实现古籍的完美还原。</p>
<blockquote class="border-l-4 border-vermilion pl-4 py-2 my-4 italic text-secondary bg-paper" node="[object Object]">
<p class="text-base text-ink leading-loose my-4" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">目标</strong>：用开源、现代化文本格式表示古籍中包括文字、图像、格式、位置在内的所有信息，并实现从源文件到排版输出的100%完美还原。</p>
</blockquote>
<h3 class="text-xl font-semibold text-ink mt-5 mb-2" node="[object Object]">核心功能需求</h3>
<ol class="list-decimal list-inside my-4 space-y-2 text-ink" node="[object Object]">
<li class="leading-relaxed" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">直排方向：</strong> 文本必须垂直排列，且阅读顺序自右向左。</li>
<li class="leading-relaxed" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">各种批注：</strong> 支持夹注（割注）：在正文行内以两行小字进行注释、眉批、侧批等等</li>
<li class="leading-relaxed" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">字符系统：</strong> 支持大异体字、生僻字，准确的繁简转换。支持不同字体。</li>
<li class="leading-relaxed" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">版式结构：</strong>
<ul class="list-disc list-inside my-4 space-y-2 text-ink" node="[object Object]">
<li class="leading-relaxed" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">版框：</strong> 包含内、外向的界栏,支持天头地脚的比例控制。</li>
<li class="leading-relaxed" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">版心：</strong> 书页中心的部分，包含鱼尾（标识折页位置）、象鼻（版心上下两端）、黑口/白口。</li>
</ul>
</li>
<li class="leading-relaxed" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">句读圈点：</strong> 支持不同格式的句读（占位或不占位），圈点等。</li>
</ol>
<p class="text-base text-ink leading-loose my-4" node="[object Object]">进一步地，尝试支持插图，避讳字，书法字体等等。</p>
<h2 class="text-2xl font-bold text-ink mt-6 mb-3 tracking-wide" node="[object Object]">二、 现状：现有排版工具比较</h2>
<p class="text-base text-ink leading-loose my-4" node="[object Object]">目前在古籍数字化领域，主要存在以下几类方案：</p>
<div class="overflow-x-auto my-4"><table class="min-w-full border-collapse border border-border" node="[object Object]"><thead><tr><th class="border border-border bg-paper px-4 py-2 text-left font-semibold" style="text-align:left" node="[object Object]">工具类型</th><th class="border border-border bg-paper px-4 py-2 text-left font-semibold" style="text-align:left" node="[object Object]">代表工具</th><th class="border border-border bg-paper px-4 py-2 text-left font-semibold" style="text-align:left" node="[object Object]">优势</th><th class="border border-border bg-paper px-4 py-2 text-left font-semibold" style="text-align:left" node="[object Object]">劣势</th></tr></thead><tbody><tr><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">开源通用格式</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">LaTeX</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">逻辑与内容分离，排版精度极高，开源生态丰富。</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">Tex设计时默认横排，宏包配置和开发较为复杂。有一定的学习曲线。</td></tr><tr><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">专业闭源软件</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">Adobe InDesign</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">视觉化操作极其直观，对复杂边框和艺术化元素的支持度最高。</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">自动化程度低，难以处理超大规模数据，且无法开源。</td></tr><tr><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">专业闭源软件</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">方正书版</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">有较长的历史积淀，经过大规模商用验证，功能丰富。</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">闭源商业模式，生态封闭。软件和接口设计陈旧，使用并不直观。</td></tr><tr><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">开源软件</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">vRain</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">由文本直接生成带版框竖排PDF</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">自由度较低，难以支持复杂版式。</td></tr></tbody></table></div>
<p class="text-base text-ink leading-loose my-4" node="[object Object]">综上所述，LaTeX 是实现古籍完美还原的最具潜力的工具，但目前缺乏一个“开箱即用”且支持所有需求的宏包或解决方案。</p>
<h2 class="text-2xl font-bold text-ink mt-6 mb-3 tracking-wide" node="[object Object]">三、 现状：LaTeX 解决方案比较</h2>
<div class="overflow-x-auto my-4"><table class="min-w-full border-collapse border border-border" node="[object Object]"><thead><tr><th class="border border-border bg-paper px-4 py-2 text-left font-semibold" style="text-align:left" node="[object Object]">方案</th><th class="border border-border bg-paper px-4 py-2 text-left font-semibold" style="text-align:left" node="[object Object]">1.upTeX</th><th class="border border-border bg-paper px-4 py-2 text-left font-semibold" style="text-align:left" node="[object Object]">2.LuaTeX-ja</th><th class="border border-border bg-paper px-4 py-2 text-left font-semibold" style="text-align:left" node="[object Object]">3.LaTeX 扩展包</th></tr></thead><tbody><tr><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">竖排原理</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">修改最底层的排版引擎以支持竖排</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">通过 Lua 回调函数在节点生成阶段修改 glyph 的方向和位置。</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">需要字体支持旋转90度，在把整个页面旋转90度。</td></tr><tr><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">古籍还原度</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">低：upTeX只支持日文竖排。古籍的各种版式需要重新开发</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">极高：可利用 Lua 代码实现像素级定位和任意的底层操作。</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">一般：由于竖排原理的限制，难以处理复杂的影印本版框复刻。</td></tr><tr><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">开发难度</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">极高：需要懂 C 语言或极生僻的 pTeX 语法，中日字体度量差异大。</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">中/高：需要掌握 Lua 和 TeX 节点图（Node graph），但文档丰富。。</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">低：只要会写 LaTeX 宏包即可，但可扩展性差。</td></tr><tr><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]"><strong class="font-bold text-vermilion" node="[object Object]">生态兼容性</strong></td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">差 (日文圈自成一派)</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">好 (兼容大部分 LaTeX 宏包)</td><td class="border border-border px-4 py-2" style="text-align:left" node="[object Object]">最好 (原生 LaTeX 环境)</td></tr></tbody></table></div>
<p class="text-base text-ink leading-loose my-4" node="[object Object]">其他的一些方案如用ConTeXt（受众过小），或LaTeX下把每个字符设计成一个盒子（扩展性太差）均不在考虑范围内。</p>
<p class="text-base text-ink leading-loose my-4" node="[object Object]">综上，采用类似LuaTeX-ja的方案（为日文设计），为中文古籍实现所需要的功能，是最可行的方案。</p>
<h2 class="text-2xl font-bold text-ink mt-6 mb-3 tracking-wide" node="[object Object]">四、当前进展</h2>
<p class="text-base text-ink leading-loose my-4" node="[object Object]">正在进行小范围实验。</p>
<hr class="my-8 border-border"/>
<p class="text-base text-ink leading-loose my-4" node="[object Object]"><a href="home" class="text-vermilion hover:underline" node="[object Object]">← 返回首页</a> | <a href="extraction" class="text-vermilion hover:underline" node="[object Object]">下一板块：信息提取 →</a></p></div></article><aside class="hidden lg:block w-64 flex-shrink-0"><nav class="sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto"><h3 class="text-sm font-bold text-ink mb-3 tracking-wide">目录</h3><ul class="space-y-2 text-sm"><li style="padding-left:0rem"><a href="#古籍排版" class="
                block py-1 border-l-2 pl-3 transition-colors
                border-transparent text-secondary hover:text-ink hover:border-border
              ">古籍排版</a></li><li style="padding-left:1.5rem"><a href="#核心功能需求" class="
                block py-1 border-l-2 pl-3 transition-colors
                border-transparent text-secondary hover:text-ink hover:border-border
              ">核心功能需求</a></li><li style="padding-left:0.75rem"><a href="#二-现状现有排版工具比较" class="
                block py-1 border-l-2 pl-3 transition-colors
                border-transparent text-secondary hover:text-ink hover:border-border
              ">二、 现状：现有排版工具比较</a></li><li style="padding-left:0.75rem"><a href="#三-现状latex-解决方案比较" class="
                block py-1 border-l-2 pl-3 transition-colors
                border-transparent text-secondary hover:text-ink hover:border-border
              ">三、 现状：LaTeX 解决方案比较</a></li><li style="padding-left:0.75rem"><a href="#四当前进展" class="
                block py-1 border-l-2 pl-3 transition-colors
                border-transparent text-secondary hover:text-ink hover:border-border
              ">四、当前进展</a></li></ul></nav></aside></div></div></main><footer class="bg-black text-white/80"><div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"><div class="hidden md:flex justify-evenly py-12 gap-8"><div class="flex flex-col gap-1"><p class="text-sm text-white/50">© <!-- -->2026<!-- --> 开源古籍项目组</p><p class="text-xs text-white/30">Powered by Next.js</p></div><div class="flex flex-col gap-1"><p class="text-sm font-bold text-white/80">基于 Apache-2.0 协议发布</p><p class="text-xs text-white/40">推动古籍数字化、校对及开源存储</p></div><div class="flex flex-col gap-2"><p class="text-sm font-bold text-white/80 mb-1">快速链接</p><a href="https://github.com/open-guji" target="_blank" rel="noopener noreferrer" class="text-xs text-white/80 underline decoration-white/40 hover:text-white hover:decoration-white transition-colors">• <!-- -->项目源码</a><a href="https://wj.qq.com/s2/25492820/38ce/" target="_blank" rel="noopener noreferrer" class="text-xs text-white/80 underline decoration-white/40 hover:text-white hover:decoration-white transition-colors">• <!-- -->问题反馈</a></div></div><div class="md:hidden flex flex-col items-center py-8 gap-4"><div class="flex gap-6"><a href="https://github.com/open-guji" target="_blank" rel="noopener noreferrer" class="text-sm text-white/80 underline decoration-white/40 hover:text-white hover:decoration-white transition-colors">项目源码</a><a href="https://wj.qq.com/s2/25492820/38ce/" target="_blank" rel="noopener noreferrer" class="text-sm text-white/80 underline decoration-white/40 hover:text-white hover:decoration-white transition-colors">问题反馈</a></div><p class="text-sm font-bold text-white/90 text-center">基于 Apache-2.0 协议发布</p><p class="text-xs text-white/40 text-center">© <!-- -->2026<!-- --> 开源古籍项目组 | Powered by Next.js</p></div></div></footer><!--$--><!--/$--><script src="/kaiyuanguji-web/_next/static/chunks/0727170f7973a63b.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[67920,[\"/kaiyuanguji-web/_next/static/chunks/f25bdf687f780092.js\"],\"SourceProvider\"]\n3:I[39756,[\"/kaiyuanguji-web/_next/static/chunks/ff1a16fafef87110.js\",\"/kaiyuanguji-web/_next/static/chunks/0bd6498bda341889.js\"],\"default\"]\n4:I[37457,[\"/kaiyuanguji-web/_next/static/chunks/ff1a16fafef87110.js\",\"/kaiyuanguji-web/_next/static/chunks/0bd6498bda341889.js\"],\"default\"]\n6:I[97367,[\"/kaiyuanguji-web/_next/static/chunks/ff1a16fafef87110.js\",\"/kaiyuanguji-web/_next/static/chunks/0bd6498bda341889.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/kaiyuanguji-web/_next/static/chunks/ff1a16fafef87110.js\",\"/kaiyuanguji-web/_next/static/chunks/0bd6498bda341889.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/kaiyuanguji-web/_next/static/chunks/ff1a16fafef87110.js\",\"/kaiyuanguji-web/_next/static/chunks/0bd6498bda341889.js\"],\"MetadataBoundary\"]\nd:I[68027,[\"/kaiyuanguji-web/_next/static/chunks/ff1a16fafef87110.js\",\"/kaiyuanguji-web/_next/static/chunks/0bd6498bda341889.js\"],\"default\"]\n:HL[\"/kaiyuanguji-web/_next/static/chunks/955cd867b74488f8.css\",\"style\"]\n:HL[\"/kaiyuanguji-web/_next/static/chunks/b81c04d1b2284b49.css\",\"style\"]\n:HL[\"/kaiyuanguji-web/_next/static/media/f112ed7f0b91582f-s.p.12569d31.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"H8WyH-QcGFTO4351QBFDv\",\"c\":[\"\",\"read\",\"typesetting.md\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"read\",{\"children\":[[\"filename\",\"typesetting.md\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/kaiyuanguji-web/_next/static/chunks/955cd867b74488f8.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/kaiyuanguji-web/_next/static/chunks/b81c04d1b2284b49.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/kaiyuanguji-web/_next/static/chunks/f25bdf687f780092.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"zh-CN\",\"children\":[\"$\",\"body\",null,{\"className\":\"antialiased noto_serif_sc_fe1bfa19-module__4wAqNq__variable\",\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[[\"$\",\"script\",\"script-0\",{\"src\":\"/kaiyuanguji-web/_next/static/chunks/4dea10ac296774a9.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/kaiyuanguji-web/_next/static/chunks/74bbbc2694a3d6aa.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/kaiyuanguji-web/_next/static/chunks/de9445e964507214.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$La\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$Lc\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:I[42303,[\"/kaiyuanguji-web/_next/static/chunks/f25bdf687f780092.js\",\"/kaiyuanguji-web/_next/static/chunks/4dea10ac296774a9.js\",\"/kaiyuanguji-web/_next/static/chunks/74bbbc2694a3d6aa.js\",\"/kaiyuanguji-web/_next/static/chunks/de9445e964507214.js\"],\"default\"]\nf:I[47896,[\"/kaiyuanguji-web/_next/static/chunks/f25bdf687f780092.js\",\"/kaiyuanguji-web/_next/static/chunks/4dea10ac296774a9.js\",\"/kaiyuanguji-web/_next/static/chunks/74bbbc2694a3d6aa.js\",\"/kaiyuanguji-web/_next/static/chunks/de9445e964507214.js\"],\"default\"]\n10:T103a,"])</script><script>self.__next_f.push([1,"\n# 古籍排版\n\n流传至今的古籍，往往是手写本或刻本。古籍的数字化除了简单的扫描影印之外，往往通过提取其中的文本信息，再重新进行排版。这个过程中存在大量的**1）信息损失**，包括版式结构、批注、图像、位置、繁简转化信息等，**2）人为错误**，包括错误的异体字的处理、增删、句读等。\n\n少数专业的出版机构和专家学者会通过大量的人工校对，来保证数字化的准确性，但这个过程耗时耗力，且难以保证100%的准确性。我们希望找到（或开发）一套开源、现代化的工具，使所有爱好者能够参与古籍的数字化，实现古籍的完美还原。\n\n\u003e **目标**：用开源、现代化文本格式表示古籍中包括文字、图像、格式、位置在内的所有信息，并实现从源文件到排版输出的100%完美还原。\n\n### 核心功能需求\n1.  **直排方向：** 文本必须垂直排列，且阅读顺序自右向左。\n2.  **各种批注：** 支持夹注（割注）：在正文行内以两行小字进行注释、眉批、侧批等等\n3.  **字符系统：** 支持大异体字、生僻字，准确的繁简转换。支持不同字体。\n4.  **版式结构：** \n    * **版框：** 包含内、外向的界栏,支持天头地脚的比例控制。\n    * **版心：** 书页中心的部分，包含鱼尾（标识折页位置）、象鼻（版心上下两端）、黑口/白口。\n5.  **句读圈点：** 支持不同格式的句读（占位或不占位），圈点等。\n\n进一步地，尝试支持插图，避讳字，书法字体等等。\n\n## 二、 现状：现有排版工具比较\n\n目前在古籍数字化领域，主要存在以下几类方案：\n\n| 工具类型 | 代表工具 | 优势 | 劣势 |\n| :--- | :--- | :--- | :--- |\n| **开源通用格式** | **LaTeX** | **逻辑与内容分离，排版精度极高，开源生态丰富。** | Tex设计时默认横排，宏包配置和开发较为复杂。有一定的学习曲线。 |\n| **专业闭源软件** | Adobe InDesign | 视觉化操作极其直观，对复杂边框和艺术化元素的支持度最高。 | 自动化程度低，难以处理超大规模数据，且无法开源。 |\n| **专业闭源软件** | 方正书版 | 有较长的历史积淀，经过大规模商用验证，功能丰富。 | 闭源商业模式，生态封闭。软件和接口设计陈旧，使用并不直观。 |\n| **开源软件** | vRain | 由文本直接生成带版框竖排PDF | 自由度较低，难以支持复杂版式。 |\n\n综上所述，LaTeX 是实现古籍完美还原的最具潜力的工具，但目前缺乏一个“开箱即用”且支持所有需求的宏包或解决方案。\n\n\n## 三、 现状：LaTeX 解决方案比较\n\n\n| 方案 | 1.upTeX | 2.LuaTeX-ja | 3.LaTeX 扩展包 |\n| :--- | :--- | :--- | :--- |\n| **竖排原理** | 修改最底层的排版引擎以支持竖排 | 通过 Lua 回调函数在节点生成阶段修改 glyph 的方向和位置。 | 需要字体支持旋转90度，在把整个页面旋转90度。 |\n| **古籍还原度** | 低：upTeX只支持日文竖排。古籍的各种版式需要重新开发 | 极高：可利用 Lua 代码实现像素级定位和任意的底层操作。 | 一般：由于竖排原理的限制，难以处理复杂的影印本版框复刻。 |\n| **开发难度** | 极高：需要懂 C 语言或极生僻的 pTeX 语法，中日字体度量差异大。 | 中/高：需要掌握 Lua 和 TeX 节点图（Node graph），但文档丰富。。 | 低：只要会写 LaTeX 宏包即可，但可扩展性差。 |\n| **生态兼容性** | 差 (日文圈自成一派) | 好 (兼容大部分 LaTeX 宏包) | 最好 (原生 LaTeX 环境) |\n\n其他的一些方案如用ConTeXt（受众过小），或LaTeX下把每个字符设计成一个盒子（扩展性太差）均不在考虑范围内。\n\n综上，采用类似LuaTeX-ja的方案（为日文设计），为中文古籍实现所需要的功能，是最可行的方案。\n\n\n## 四、当前进展\n\n正在进行小范围实验。\n\n---\n\n[← 返回首页](home) | [下一板块：信息提取 →](extraction)\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"$Le\",null,{\"children\":[\"$\",\"$Lf\",null,{\"content\":\"$10\",\"toc\":[{\"id\":\"古籍排版\",\"text\":\"古籍排版\",\"level\":1},{\"id\":\"核心功能需求\",\"text\":\"核心功能需求\",\"level\":3},{\"id\":\"二-现状现有排版工具比较\",\"text\":\"二、 现状：现有排版工具比较\",\"level\":2},{\"id\":\"三-现状latex-解决方案比较\",\"text\":\"三、 现状：LaTeX 解决方案比较\",\"level\":2},{\"id\":\"四当前进展\",\"text\":\"四、当前进展\",\"level\":2}],\"title\":\"古籍排版\"}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"8:null\nc:[[\"$\",\"title\",\"0\",{\"children\":\"古籍排版 - 开源古籍\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"阅读《typesetting》\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"开源古籍\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"古籍,数字化,开源,传统文化,古籍数字化\"}],[\"$\",\"link\",\"4\",{\"rel\":\"canonical\",\"href\":\"https://www.kaiyuanguji.com/read/typesetting.md\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:title\",\"content\":\"古籍排版\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:description\",\"content\":\"阅读《typesetting》\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:url\",\"content\":\"https://www.kaiyuanguji.com/read/typesetting.md\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:title\",\"content\":\"开源古籍\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:description\",\"content\":\"开源古籍项目通过技术手段推动古籍的数字化、校对及开源存储，致力于让传统文化触手可及。\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:image\",\"content\":\"https://www.kaiyuanguji.com/images/og-image.png\"}]]\n"])</script></body></html>